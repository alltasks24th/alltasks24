<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>รับจ้างสารพัด 24 ชั่วโมง — Grape & Indigo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css">
  <style>
    .hero{background:
      radial-gradient(1200px 420px at 10% -20%, rgba(109,40,217,.18), transparent 60%),
      radial-gradient(900px 360px at 90% -10%, rgba(67,56,202,.18), transparent 60%),
      linear-gradient(180deg,#ffffff 0%, #F7F5FF 100%);}
    .hero .eyebrow{color:#4c1d95;font-weight:700;letter-spacing:.04em}
    .section-title{font-weight:700}
    .form-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .form-head .toggle{border-radius:10px}
  </style>
</head>
<body>
<nav class="navbar navbar-expand-lg sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold" style="color:var(--primary)" href="#">alltasks24.online</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="#services">บริการ</a></li>
        <li class="nav-item"><a class="nav-link" href="#search">ค้นหา</a></li>
        <li class="nav-item"><a class="nav-link" href="#map">พื้นที่</a></li>
        <li class="nav-item"><a class="nav-link" href="#reviews">รีวิว</a></li>
        <li class="nav-item"><a class="nav-link" href="#contact">ติดต่อ</a></li>
      </ul>
    </div>
  </div>
</nav>

<header class="hero py-5">
  <div class="container">
    <div class="row align-items-center g-4">
      <div class="col-lg-7">
        <div class="eyebrow mb-2">รับจ้างสารพัด 24 ชั่วโมง</div>
        <h1 class="display-5 fw-bold mb-3">คม ชัด โมเดิร์น — Grape & Indigo</h1>
        <p class="lead text-muted mb-4">จองงานไว แชทเรียลไทม์ โปรโมชันอัปเดตตลอดวัน</p>
        <div class="d-flex flex-wrap gap-2">
          <a href="#contact" class="btn btn-primary btn-lg"><i class="bi bi-calendar-check me-1"></i>จองบริการทันที</a>
          <a href="#services" class="btn btn-outline-primary btn-lg">ดูบริการทั้งหมด</a>
        </div>
      </div>
      <div class="col-lg-5">
        <div id="banner" class="carousel slide card-clean overflow-hidden">
          <div class="carousel-inner" id="banner-slides"></div>
          <button class="carousel-control-prev" type="button" data-bs-target="#banner" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
          <button class="carousel-control-next" type="button" data-bs-target="#banner" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="py-5">
  <div class="container">

    <section class="mb-5">
      <div class="d-flex align-items-center justify-content-between mb-2">
        <h2 class="section-title mb-0">โปรโมชัน</h2>
        <div class="small text-muted" id="promo-range-label"></div>
      </div>
      <div class="row g-3" id="promo-cards"></div>
    </section>

    <section id="search" class="mb-5">
      <div class="search-strip p-3 p-md-4">
        <div class="row g-2 align-items-end">
          <div class="col-md-5">
            <label class="form-label">บริการ</label>
            <input id="searchText" class="form-control form-control-lg" placeholder="เช่น ทำความสะอาด, ขนของ, ซ่อมไฟ">
          </div>
          <div class="col-md-5">
            <label class="form-label">พื้นที่</label>
            <input id="searchArea" class="form-control form-control-lg" placeholder="เช่น บางนา, เชียงใหม่, ภูเก็ต">
          </div>
          <div class="col-md-2 d-grid">
            <button id="btnSearch" class="btn btn-soft btn-lg"><i class="bi bi-search me-1"></i> ค้นหา</button>
          </div>
        </div>
        <div id="searchResults" class="small text-muted pt-2"></div>
      </div>
    </section>

    <section id="services" class="mb-5">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <h2 class="section-title mb-0">บริการของเรา</h2>
        <a href="#" class="text-decoration-none">ดูทั้งหมด</a>
      </div>
      <div class="row g-3" id="service-cards"></div>
    </section>

    <section id="map" class="mb-5">
      <h2 class="section-title mb-3">พื้นที่ให้บริการ + แผนที่</h2>
      <div class="card card-clean">
        <div class="ratio ratio-16x9">
          <iframe id="mapEmbed" src="https://www.google.com/maps?q=Bangkok&output=embed" allowfullscreen loading="lazy"></iframe>
        </div>
      </div>
      <ul class="list-group list-group-flush mt-3" id="area-list"></ul>
    </section>

    <section class="mb-5" id="booking">
      <div class="card card-clean p-3 p-md-4">
        <div class="form-head mb-3">
          <div>
            <h2 class="section-title mb-0">ระบบจองงาน/นัดหมาย</h2>
            <div class="small text-muted">ย่อ/ขยาย ได้ตามต้องการ</div>
          </div>
          <button class="btn btn-soft toggle" data-bs-toggle="collapse" data-bs-target="#bookingForm"><i class="bi bi-arrows-expand me-1"></i>ย่อ/ขยาย</button>
        </div>
        <div id="bookingForm" class="collapse">
          <form id="bookingFormEl">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">ชื่อ - นามสกุล</label>
                <input name="name" class="form-control" placeholder="ชื่อผู้ติดต่อ">
              </div>
              <div class="col-md-6">
                <label class="form-label">เบอร์โทร</label>
                <input name="phone" class="form-control" placeholder="0812345678">
              </div>
              <div class="col-md-6">
                <label class="form-label">บริการที่ต้องการ</label>
                <input name="service" class="form-control" placeholder="เช่น ทำความสะอาด">
              </div>
              <div class="col-md-6">
                <label class="form-label">พื้นที่</label>
                <input name="area" class="form-control" placeholder="เช่น บางนา กรุงเทพฯ">
              </div>
              <div class="col-md-6">
                <label class="form-label">วันที่</label>
                <input type="date" name="date" class="form-control">
              </div>
              <div class="col-md-6">
                <label class="form-label">เวลา</label>
                <input type="time" name="time" class="form-control">
              </div>
              <div class="col-12">
                <label class="form-label">รายละเอียดเพิ่มเติม</label>
                <textarea name="note" class="form-control" rows="3"></textarea>
              </div>
              <div class="col-12">
                <button class="btn btn-primary"><i class="bi bi-send me-1"></i>ส่งคำขอจอง</button>
                <span id="bookingMsg" class="ms-2 small text-success"></span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>

    <section id="reviews" class="mb-5">
      <div class="d-flex align-items-center justify-content-between">
        <h2 class="section-title mb-3">รีวิวลูกค้า</h2>
        <div class="text-muted" id="avg">คะแนนเฉลี่ย -</div>
      </div>
      <div class="row g-3" id="reviewList"></div>
      <button class="btn btn-outline-primary mt-3" data-bs-toggle="modal" data-bs-target="#reviewModal"><i class="bi bi-pencil-square me-1"></i>เขียนรีวิว</button>
      <div class="text-end mt-2">
        <a href="/reviews.html" class="btn btn-outline-primary btn-sm">ดูรีวิวทั้งหมด</a>
      </div>
    </section>

    <section class="mb-5">
      <h2 class="section-title mb-3">คำถามที่พบบ่อย (FAQ)</h2>
      <div class="accordion" id="faqAccordion"></div>
    </section>

    <section id="contact">
      <div class="card card-clean p-3 p-md-4">
        <div class="form-head mb-3">
          <div>
            <h2 class="section-title mb-0">ฟอร์มแจ้งปัญหา/ขอใบเสนอราคา</h2>
            <div class="small text-muted">ย่อ/ขยาย ได้ตามต้องการ</div>
          </div>
        <button class="btn btn-soft toggle" data-bs-toggle="collapse" data-bs-target="#contactForm"><i class="bi bi-arrows-expand me-1"></i>ย่อ/ขยาย</button>
        </div>
        <div id="contactForm" class="collapse">
          <form id="quoteForm">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">อีเมล</label>
                <input name="email" class="form-control" placeholder="you@email.com">
              </div>
              <div class="col-md-6">
                <label class="form-label">หัวข้อ</label>
                <input name="subject" class="form-control" placeholder="เรื่องที่ต้องการติดต่อ">
              </div>
              <div class="col-12">
                <label class="form-label">รายละเอียดทั้งหมด</label>
                <textarea name="detail" class="form-control" rows="4" placeholder="พิมพ์ข้อความ..."></textarea>
              </div>
              <div class="col-12">
                <button class="btn btn-primary"><i class="bi bi-send me-1"></i>ส่งคำขอ</button>
                <span id="quoteMsg" class="ms-2 small text-success"></span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>

  </div>
</main>

<footer class="site-footer py-4">
  <div class="container d-flex justify-content-between align-items-center">
    <small>© <span id="yearNow">2025</span> alltasks24.online</small>
    <div class="d-flex gap-3">
      <a href="#" class="text-decoration-none">เงื่อนไขบริการ</a>
      <a href="#" class="text-decoration-none">นโยบายความเป็นส่วนตัว</a>
    </div>
  </div>
</footer>

<div class="fab-dock">
  <a class="fab" id="fabCall" href="tel:0800000000" title="โทร"><i class="bi bi-telephone-fill"></i></a>
  <a class="fab" id="fabLine" href="#" target="_blank" title="LINE"><i class="bi bi-line"></i></a>
  <a class="fab" id="fabFb" href="#" target="_blank" title="Facebook"><i class="bi bi-facebook"></i></a>
  <button id="fabChat" class="fab fab-primary position-relative" title="แชทสด">
    <i class="bi bi-chat-dots-fill"></i>
    <span id="fabChatBadge" class="badge text-bg-warning position-absolute" style="display:none">0</span>
  </button>
</div>

<div id="chat" class="chat-widget">
  <div class="chat-header d-flex justify-content-between align-items-center">
    <strong>แชทสด</strong>
    <button id="closeChat" class="btn btn-sm btn-outline-secondary">ปิด</button>
  </div>
  <div id="chatBody" class="chat-body"></div>
  <div class="chat-input">
    <input id="chatMessage" class="form-control" placeholder="พิมพ์ข้อความ...">
    <button id="chatSend" class="btn btn-primary">ส่ง</button>
  </div>
</div>

<div class="modal fade" id="reviewModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header"><h5 class="modal-title">เขียนรีวิว</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
      <div class="modal-body">
        <div class="modal-body">
        <label class="form-label">ชื่อผู้รีวิว</label>
        <input class="form-control" id="reviewName" placeholder="เช่น เกสร">
        <label class="form-label">ให้คะแนน</label>
        <select class="form-select" id="rating">
          <option value="5">5 ดีมาก</option>
          <option value="4">4 ดี</option>
          <option value="3">3 ปานกลาง</option>
          <option value="2">2 พอใช้</option>
          <option value="1">1 ควรปรับปรุง</option>
        </select>
        <label class="form-label mt-2">รีวิว</label>
        <textarea class="form-control" id="reviewText" rows="3"></textarea>
      </div>
      <div class="modal-footer"><button id="saveReview" class="btn btn-primary">ส่งรีวิว</button></div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="firebase-init.js"></script>
<script type="module" src="public.js"></script>

<!-- === Service Detail Modal === -->
<div class="modal fade" id="svcDetailModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <div>
          <h5 class="modal-title fw-bold" id="svcModalTitle">รายละเอียดบริการ</h5>
          <div class="small text-muted" id="svcModalCategory"></div>
          <div id="svcModalTags" class="mt-2 d-flex flex-wrap gap-2"></div>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div id="svcGalleryWrap" class="mb-3" style="display:none">
          <div id="svcCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="svcCarouselInner"></div>
            <button class="carousel-control-prev" type="button" data-bs-target="#svcCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#svcCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>

        <img id="svcCover" class="img-fluid rounded mb-3" style="display:none" alt="service cover">
        <div id="svcDetailText" class="lh-lg"></div>
      </div>
      <div class="modal-footer">
        <a id="svcCall" href="#" class="btn btn-primary"><i class="bi bi-telephone me-1"></i> โทรเลย</a>
        <a id="svcLine" href="#" class="btn btn-outline-primary"><i class="bi bi-chat-dots me-1"></i> LINE</a>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button>
      </div>
    </div>
  </div>
</div>

</body>
</html>
