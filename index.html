<!doctype html>
<html lang="th" class="theme-dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>รับจ้างสารพัด 24 ชั่วโมง</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css">

<!-- Favicons -->
<link rel="icon" href="/icons/favicon.ico" sizes="any">
<link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
<link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
<link rel="manifest" href="/icons/site.webmanifest">
<meta name="theme-color" content="#6C37FF">
  
  <style>
    .hero{background:
      radial-gradient(1200px 420px at 10% -20%, rgba(109,40,217,.18), transparent 60%),
      radial-gradient(900px 360px at 90% -10%, rgba(67,56,202,.18), transparent 60%),
      linear-gradient(180deg,#ffffff 0%, #F7F5FF 100%);}
    .hero .eyebrow{color:#4c1d95;font-weight:700;letter-spacing:.04em}
    .section-title{font-weight:700}
    .form-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .form-head .toggle{border-radius:10px}
  </style>

<style>
  /* ==== Dark Midnight Theme (additive, non-destructive) ==== */
  :root{
    --bg:#0b0720;              /* พื้นหลัง */
    --card:rgba(255,255,255,.07);
    --ink:#eaeaf6;             /* สีตัวอักษร */
    --muted:#b6b7c5;
    --primary:#6D28D9;         /* Indigo */
    --accent:#22c55e;          /* Neon Green */
    --soft:rgba(109,40,217,.12);
    --border:rgba(255,255,255,.16);
  }
  body{
    background:
      radial-gradient(1100px 420px at 7% -10%, rgba(109,40,217,.33), transparent 60%),
      radial-gradient(840px 360px at 105% -8%, rgba(34,197,94,.22), transparent 60%),
      linear-gradient(180deg,#0f0b2a 0%, #0b0720 100%);
    color:var(--ink);
  }
  .orb{position:fixed;filter:blur(80px);opacity:.35;pointer-events:none;border-radius:50%;z-index:0}
  .orb.purple{background:radial-gradient(circle at 30% 30%, rgba(109,40,217,.8), transparent 60%); width:360px;height:360px;left:-120px;top:-80px;animation:float1 12s ease-in-out infinite;}
  .orb.green{background:radial-gradient(circle at 30% 30%, rgba(34,197,94,.8), transparent 60%); width:300px;height:300px;right:-80px;bottom:-60px;animation:float2 14s ease-in-out infinite;}
  @keyframes float1{0%,100%{transform:translateY(0)}50%{transform:translateY(18px)}}
  @keyframes float2{0%,100%{transform:translateY(0)}50%{transform:translateY(-16px)}}

  /* Navbar override (assets/styles.css ใช้ !important อยู่) */
  .navbar{ background:rgba(17,12,42,.7)!important; border-bottom:1px solid var(--border)!important; backdrop-filter:saturate(140%) blur(8px)!important }
  .navbar .navbar-brand{ color:#fff !important }
  .navbar .nav-link{ color:#e6e6f7 !important }
  .navbar .nav-link:hover{ color:#c7bdfc !important }
  .navbar .navbar-toggler{ border-color:rgba(255,255,255,.5) }
  .navbar .navbar-toggler-icon{ filter: invert(1) grayscale(1) brightness(1.2) }

  /* Hero เปลี่ยนเป็นโทนเข้ม แต่คงโครงสร้างเดิม */
  .hero{
    background:
      radial-gradient(1200px 420px at 10% -20%, rgba(109,40,217,.25), transparent 60%),
      radial-gradient(900px 360px at 90% -10%, rgba(67,56,202,.22), transparent 60%),
      linear-gradient(180deg,#121034 0%, #0b0720 100%) !important;
    color:var(--ink);
  }
  .hero .eyebrow{ color:#c7bdfc }

  /* Cards & sections */
  .card, .card-clean{ background:var(--card)!important; border:1px solid var(--border)!important; color:var(--ink) }
  .table thead th{ background:rgba(255,255,255,.06)!important; color:#e9e9fb }
  .list-group-item{ background:var(--card)!important; color:var(--ink)!important; border-color:var(--border)!important }

  /* Forms */
  .form-control, .form-select{ background-color:rgba(255,255,255,.08); border-color:var(--border); color:var(--ink) }
  .form-control::placeholder{ color:rgba(255,255,255,.55) }
  .form-control:focus{ border-color:var(--accent); box-shadow:0 0 0 .2rem rgba(34,197,94,.25) }

  /* Buttons */
  .btn-primary{
    --bs-btn-bg: var(--primary);
    --bs-btn-border-color: var(--primary);
    --bs-btn-hover-bg:#7c3aed;
    --bs-btn-hover-border-color:#7c3aed;
    --bs-btn-active-bg:#5b21b6;
    --bs-btn-active-border-color:#5b21b6;
    color:#fff;
    box-shadow: 0 10px 20px rgba(109,40,217,.35);
  }
  .btn-outline-primary{ --bs-btn-color:#fff; --bs-btn-border-color:rgba(255,255,255,.35); --bs-btn-hover-bg:rgba(255,255,255,.1); --bs-btn-hover-border-color:#fff }
  .btn-soft{ background:rgba(109,40,217,.16); color:#e7e2ff; border-color:var(--border) }

  /* Footer */
  .site-footer{ background:rgba(255,255,255,.05)!important; border-top:1px solid var(--border)!important; color:var(--ink) }

  /* FABs & Chat */
  .fab{ background:rgba(255,255,255,.08); color:#fff; border-color:var(--border) }
  .fab-primary{ background:var(--primary); border-color:#5b21b6 }
  .chat-widget .chat-header{ background:rgba(255,255,255,.08); border-bottom:1px solid var(--border) }
  .chat-body{ background:rgba(255,255,255,.05) }
  .chat-input{ background:rgba(255,255,255,.08); border-top:1px solid var(--border) }
  .chat-msg.agent{ background:rgba(109,40,217,.14); border:1px solid var(--border); color:#eaeaf6 }
  .chat-msg.user{ background:rgba(255,215,128,.1); border:1px solid rgba(255,215,128,.35); color:#ffecc2 }

  /* Utility */
  .text-muted{ color:var(--muted)!important }
</style>
</head>
<body>
<!-- THEME ORBS -->
<div class="orb purple"></div>
<div class="orb green"></div>
<!-- /THEME ORBS -->
<nav class="navbar navbar-expand-lg sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold" style="color:var(--primary)" href="#">alltasks24.online</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/promotions.html">โปรโมชั่น</a></li>
        <li class="nav-item"><a class="nav-link" href="/services.html">บริการของเรา</a></li>
        <li class="nav-item"><a class="nav-link" href="/shop.html">สินค้าแนะนำ</a></li>
        <li class="nav-item"><a class="nav-link" href="#map">พื้นที่</a></li>
        <li class="nav-item"><a class="nav-link" href="#reviews">รีวิว</a></li>
      </ul>
    </div>
  </div>
</nav>

<header class="hero py-5">
  <div class="container">
    <div class="row align-items-center g-4">
      <div class="col-lg-7">
        <div class="eyebrow mb-2">รับจ้างสารพัด 24 ชั่วโมง</div>
        <h1 class="display-5 fw-bold mb-3">พร้อมลุยทุกงานที่คุณต้องการ</h1>
        <p class="lead text-muted mb-4">เรียกใช้บริการได้ทันที สะดวก โปร่งใส</p>
        <div class="d-flex flex-wrap gap-2">
          <a href="/shop.html" class="btn btn-primary btn-lg"><i class="bi bi-calendar-check me-1"></i>สินค้าแนะนำ</a>
          <a href="/services.html" class="btn btn-outline-primary btn-lg">ดูบริการทั้งหมด</a>
        </div>
      </div>
      <div class="col-lg-5">
        <div id="banner" class="carousel slide card-clean overflow-hidden">
          <div class="carousel-inner" id="banner-slides"></div>
          <button class="carousel-control-prev" type="button" data-bs-target="#banner" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
          <button class="carousel-control-next" type="button" data-bs-target="#banner" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="py-5">
  <div class="container">

    <section class="mb-5">
  <div class="d-flex align-items-center justify-content-between mb-2">
    <h2 class="section-title mb-0">โปรโมชัน</h2>
    <div class="d-flex align-items-center gap-2">
      <div class="small text-muted" id="promo-range-label"></div>
      <a href="promotions.html" class="btn btn-gradient btn-lg rounded-pill">ดูทั้งหมด</a>
    </div>
  </div>
  <div class="row g-3" id="promo-cards"></div>
</section>

    <section id="services" class="mb-5">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <h2 class="section-title mb-0">บริการของเรา</h2>
        <a href="services.html" class="btn btn-gradient btn-lg rounded-pill">ดูทั้งหมด</a>
      </div>
      <div class="row g-3" id="service-cards"></div>
    </section>

<!-- =============== สินค้าแนะนำ (หน้าแรก) =============== -->
<section id="products" class="mb-5">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h2 class="section-title mb-0">สินค้าแนะนำ</h2>
    <a href="shop.html" class="btn btn-gradient btn-lg rounded-pill">ดูทั้งหมด</a>
  </div>

  <!-- SKELETON โหลดข้อมูล -->
  <div id="home-products-skeleton" class="row g-3">
    <div class="col-12 col-md-4">
      <div class="card shadow-sm placeholder-glow">
        <div class="ratio ratio-16x9"><span class="placeholder w-100 h-100"></span></div>
        <div class="card-body">
          <h6 class="card-title placeholder col-8"></h6>
          <p class="placeholder col-6"></p>
          <p class="placeholder col-5"></p>
          <button class="btn btn-primary disabled placeholder col-6"></button>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card shadow-sm placeholder-glow">
        <div class="ratio ratio-16x9"><span class="placeholder w-100 h-100"></span></div>
        <div class="card-body">
          <h6 class="card-title placeholder col-8"></h6>
          <p class="placeholder col-6"></p>
          <p class="placeholder col-5"></p>
          <button class="btn btn-primary disabled placeholder col-6"></button>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card shadow-sm placeholder-glow">
        <div class="ratio ratio-16x9"><span class="placeholder w-100 h-100"></span></div>
        <div class="card-body">
          <h6 class="card-title placeholder col-8"></h6>
          <p class="placeholder col-6"></p>
          <p class="placeholder col-5"></p>
          <button class="btn btn-primary disabled placeholder col-6"></button>
        </div>
      </div>
    </div>
  </div>

  <!-- กล่องแสดงผลจริง -->
  <div id="home-products" class="row g-3"></div>

  <!-- แจ้งสถานะ -->
  <div id="home-products-empty" class="alert alert-light border d-none mt-3">ไม่มีสินค้าแนะนำ</div>
  <div id="home-products-error" class="alert alert-danger d-none mt-3">โหลดข้อมูลไม่สำเร็จ</div>
</section>

<!-- ช่วยเรื่องภาพครอป -->
<style>
  .object-fit-cover{ object-fit: cover; }
</style>
    
    <section id="map" class="mb-5">
      <h2 class="section-title mb-3">พื้นที่ให้บริการ + แผนที่</h2>
      <div class="card card-clean">
        <div class="ratio ratio-16x9">
          <iframe id="mapEmbed" src="https://www.google.com/maps?q=Bangkok&output=embed" allowfullscreen loading="lazy"></iframe>
        </div>
      </div>
      <ul class="list-group list-group-flush mt-3" id="area-list"></ul>
    </section>

    <section class="mb-5" id="booking">
      <div class="card card-clean p-3 p-md-4">
        <div class="form-head mb-3">
          <div>
            <h2 class="section-title mb-0">ระบบจองงาน/นัดหมาย</h2>
            <div class="small text-muted">ย่อ/ขยาย ได้ตามต้องการ</div>
          </div>
          <button class="btn btn-soft toggle" data-bs-toggle="collapse" data-bs-target="#bookingForm"><i class="bi bi-arrows-expand me-1"></i>ย่อ/ขยาย</button>
        </div>
        <div id="bookingForm" class="collapse">
          <form id="bookingFormEl">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">ชื่อ - นามสกุล</label>
                <input name="name" class="form-control" placeholder="ชื่อผู้ติดต่อ">
              </div>
              <div class="col-md-6">
                <label class="form-label">เบอร์โทร</label>
                <input name="phone" class="form-control" placeholder="099-9999999">
              </div>
              <div class="col-md-6">
                <label class="form-label">บริการที่ต้องการ</label>
                <input name="service" class="form-control" placeholder="เช่น ทำความสะอาด">
              </div>
              <div class="col-md-6">
                <label class="form-label">พื้นที่</label>
                <input name="area" class="form-control" placeholder="เช่น นครสวรรค์ พิจิตร">
              </div>
              <div class="col-md-6">
                <label class="form-label">วันที่</label>
                <input type="date" name="date" class="form-control">
              </div>
              <div class="col-md-6">
                <label class="form-label">เวลา</label>
                <input type="time" name="time" class="form-control">
              </div>
              <div class="col-12">
                <label class="form-label">รายละเอียดเพิ่มเติม</label>
                <textarea name="note" class="form-control" rows="3"></textarea>
              </div>
              <div class="col-12">
                <button class="btn btn-primary"><i class="bi bi-send me-1"></i>ส่งคำขอจอง</button>
                <span id="bookingMsg" class="ms-2 small text-success"></span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>

<section id="reviews" class="mb-5">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h2 class="section-title mb-0">รีวิวลูกค้า</h2>

    <!-- ขวา: คะแนนเฉลี่ย + ปุ่มดูทั้งหมด -->
    <div class="d-flex align-items-center gap-2 flex-wrap">
      <div id="avg" class="text-muted small">คะแนนเฉลี่ย -</div>
      <a href="/reviews.html" class="btn btn-gradient btn-lg rounded-pill">
        ดูทั้งหมด
      </a>
    </div>
  </div>

  <div class="row g-3" id="reviewList"></div>

  <button class="btn btn-outline-primary mt-3" data-bs-toggle="modal" data-bs-target="#reviewModal">
    <i class="bi bi-pencil-square me-1"></i>เขียนรีวิว
  </button>
</section>

    <section id="contact">
      <div class="card card-clean p-3 p-md-4">
        <div class="form-head mb-3">
          <div>
            <h2 class="section-title mb-0">ฟอร์มแจ้งปัญหา</h2>
            <div class="small text-muted">ย่อ/ขยาย ได้ตามต้องการ</div>
          </div>
        <button class="btn btn-soft toggle" data-bs-toggle="collapse" data-bs-target="#contactForm"><i class="bi bi-arrows-expand me-1"></i>ย่อ/ขยาย</button>
        </div>
        <div id="contactForm" class="collapse">
          <form id="quoteForm">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">เบอร์โทรศัพท์</label>
                <input name="email" class="form-control" placeholder="เช่น 099-9999999">
              </div>
              <div class="col-md-6">
                <label class="form-label">หัวข้อ</label>
                <input name="subject" class="form-control" placeholder="เรื่องที่ต้องการติดต่อ">
              </div>
              <div class="col-12">
                <label class="form-label">รายละเอียดทั้งหมด</label>
                <textarea name="detail" class="form-control" rows="4" placeholder="พิมพ์ข้อความ..."></textarea>
              </div>
              <div class="col-12">
                <button class="btn btn-primary"><i class="bi bi-send me-1"></i>ส่งคำขอ</button>
                <span id="quoteMsg" class="ms-2 small text-success"></span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>

  </div>
</main>

<footer class="site-footer py-4">
  <div class="container d-flex justify-content-between align-items-center">
    <small>© <span id="yearNow">2025</span> alltasks24.online</small>
    <div class="d-flex gap-3">
      <a href="#" class="text-decoration-none">เงื่อนไขบริการ</a>
      <a href="#" class="text-decoration-none">นโยบายความเป็นส่วนตัว</a>
    </div>
  </div>
</footer>

<div class="fab-dock">
  <a class="fab" id="fabCall" href="tel:0800000000" title="โทร"><i class="bi bi-telephone-fill"></i></a>
  <a class="fab" id="fabLine" href="#" target="_blank" title="LINE"><i class="bi bi-line"></i></a>
  <a class="fab" id="fabFb" href="#" target="_blank" title="Facebook"><i class="bi bi-facebook"></i></a>
  <button id="fabChat" class="fab fab-primary position-relative" title="แชทสด">
    <i class="bi bi-chat-dots-fill"></i>
    <span id="fabChatBadge" class="badge text-bg-warning position-absolute" style="display:none">0</span>
  </button>
</div>

<div id="chat" class="chat-widget">
  <div class="chat-header d-flex justify-content-between align-items-center">
    <strong>แชทสด</strong>
    <button id="closeChat" class="btn btn-sm btn-outline-secondary">ปิด</button>
  </div>
  <div id="chatBody" class="chat-body"></div>
  <div class="chat-input">
    <input id="chatMessage" class="form-control" placeholder="พิมพ์ข้อความ...">
    <button id="chatSend" class="btn btn-primary">ส่ง</button>
  </div>
</div>

<div class="modal fade" id="reviewModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header"><h5 class="modal-title">เขียนรีวิว</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
      <div class="modal-body">
        <div class="modal-body">
        <label class="form-label">ชื่อผู้รีวิว</label>
        <input class="form-control" id="reviewName" placeholder="เช่น เกสร">
        <label class="form-label">ให้คะแนน</label>
        <select class="form-select" id="rating">
          <option value="5">5 ดีมาก</option>
          <option value="4">4 ดี</option>
          <option value="3">3 ปานกลาง</option>
          <option value="2">2 พอใช้</option>
          <option value="1">1 ควรปรับปรุง</option>
        </select>
        <label class="form-label mt-2">รีวิว</label>
        <textarea class="form-control" id="reviewText" rows="3"></textarea>
      </div>
      <div class="modal-footer"><button id="saveReview" class="btn btn-primary">ส่งรีวิว</button></div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="firebase-init.js"></script>
<div id="service-modals"></div>
<script type="module" src="public.js?v=detail25"></script>
</body>
</html>
